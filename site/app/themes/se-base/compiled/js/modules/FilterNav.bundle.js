"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(i){var n={};function a(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=i,a.c=n,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==_typeof(e)&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(i,n,function(t){return e[t]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=1)}([,function(t,e,i){i.r(e),e.default=function(){function e(t){_classCallCheck(this,e),this.filter_section=t,this.filter_links=this.filter_section.find(".filter-list a"),this.filter_selected=this.filter_section.find(".filter-list__selected"),this.load_more_btn=this.filter_section.find(".post-list__load"),this.posts_container=this.filter_section.find(".post-list"),this.post_type=this.filter_section.attr("data-post-type"),this.cat_id=this.filter_section.attr("data-cat"),this.ppp=6,this.page=1,this.in_ajax=!1,this._init_events()}return _createClass(e,[{key:"_init_events",value:function(){this.filter_links.on("click",this.prepare_ajax.bind(this)),this.load_more_btn.on("click",this.load_more.bind(this))}},{key:"prepare_ajax",value:function(t){if(t.preventDefault(),!1===this.in_ajax){this.in_ajax=!0,this.filter_selected.text($(t.currentTarget).text());var e=$(t.currentTarget).parent().attr("class"),i=parseInt(e.replace(/\D/g,""),10);this.page=1,isNaN(i)?this.cat_id=!1:this.cat_id=i,this.filter_section.attr("data-cat",this.cat_id),this.prepare_section(this.ppp,!0)}}},{key:"prepare_section",value:function(t,e){this.filter_section.addClass("in-ajax"),this.call_ajax(t,e)}},{key:"resolve_section",value:function(){this.in_ajax=!1,this.filter_section.removeClass("in-ajax")}},{key:"call_ajax",value:function(t,i){var n=this,e={action:"ajax_pagination",query_vars:ajaxpagination.query_vars,post_type:n.post_type,cat_id:n.cat_id,ppp:t,page:n.page};n.load_more_btn.addClass("loading"),$.ajax({url:ajaxpagination.ajaxurl,type:"post",data:e,success:function(t){var e=JSON.parse(t);e.html&&(!0===i?n.posts_container.html(e.html):n.posts_container.append(e.html)),e.max_pages===n.page?n.hide_load_more():n.show_load_more(),n.load_more_btn.removeClass("loading"),n.resolve_section()}})}},{key:"load_more",value:function(){!1===this.in_ajax&&(this.in_ajax=!0,this.page++,this.prepare_section(this.ppp,!1))}},{key:"hide_load_more",value:function(){this.load_more_btn.hide()}},{key:"show_load_more",value:function(){this.load_more_btn.show()}}]),e}()}]);
//# sourceMappingURL=FilterNav.bundle.js.map
