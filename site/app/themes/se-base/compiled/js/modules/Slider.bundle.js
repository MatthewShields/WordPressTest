"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(i){var s={};function n(t){if(s[t])return s[t].exports;var e=s[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=i,n.c=s,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==_typeof(e)&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=9)}({9:function(t,e,i){i.r(e);var s=function(){function e(t){_classCallCheck(this,e),this.s=t,this.panels_wrapper=this.s.slider.querySelectorAll(this.s.panels_wrapper)[0],this.panels=Array.prototype.slice.call(this.s.slider.querySelectorAll(this.s.panels)),this.active_slide=this.s.active_slide,this.prev_button=this.s.slider.querySelectorAll(this.s.prev_button)[0],this.next_button=this.s.slider.querySelectorAll(this.s.next_button)[0],this.transition_name=this.get_transition_event_name(),this.reduced_motion=!1,this.s.autoplay&&(this.play_button=this.s.slider.querySelectorAll(this.s.play_button)[0],this.pause_button=this.s.slider.querySelectorAll(this.s.pause_button)[0],this.playing=!0,this.autoplay_timer=!1),this.prev_slide=this.prev_slide.bind(this),this.next_slide=this.next_slide.bind(this),this.disable_buttons=this.disable_buttons.bind(this),this.check_buttons=this.check_buttons.bind(this),this.move_to_slide=this.move_to_slide.bind(this),this.set_timer=this.set_timer.bind(this),this.clear_timer=this.clear_timer.bind(this),this.pause_slider=this.pause_slider.bind(this),this.play_slider=this.play_slider.bind(this),this.hover_slider=this.hover_slider.bind(this),this.deactivate_slides=this.deactivate_slides.bind(this),this._init_events()}return _createClass(e,[{key:"_init_events",value:function(){this.prev_button.onclick=this.prev_slide,this.next_button.onclick=this.next_slide;var t=window.matchMedia("(prefers-reduced-motion: reduce)");this.reduced_motion=t.matches,this.reduced_motion||this.panels_wrapper.addEventListener(this.transition_name,this.check_buttons),this.s.autoplay&&(this.pause_button.setAttribute("aria-hidden",!1),this.pause_button.addEventListener("click",this.pause_slider),this.play_button.addEventListener("click",this.play_slider),this.panels_wrapper.setAttribute("aria-live","off"));for(var e=0;e<this.panels.length;e++)this.panels[e].setAttribute("aria-hidden",!0),this.panels[e].setAttribute("tabindex","-1"),this.panels[e].setAttribute("aria-label","Slide "+(e+1)+" of "+this.panels.length);this.move_to_slide(0,!1)}},{key:"get_transition_event_name",value:function(){var t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},e=document.body.style;for(var i in t)if(null!=e[i])return t[i]}},{key:"deactivate_slides",value:function(){for(var t=0;t<this.panels.length;t++)this.panels[t].setAttribute("aria-hidden",!0)}},{key:"hover_slider",value:function(){this.playing?this.pause_slider():this.play_slider()}},{key:"pause_slider",value:function(){this.playing=!1,this.pause_button.setAttribute("aria-hidden",!0),this.play_button.setAttribute("aria-hidden",!1),this.panels_wrapper.setAttribute("aria-live","polite"),this.clear_timer()}},{key:"play_slider",value:function(t){this.playing=!0,this.pause_button.setAttribute("aria-hidden",!1),this.play_button.setAttribute("aria-hidden",!0),this.panels_wrapper.setAttribute("aria-live","off"),this.set_timer()}},{key:"check_buttons",value:function(t){!0!==t&&"transform"!==t.propertyName||(this.active_slide<this.panels.length-1&&(this.next_button.disabled=!1),0<this.active_slide&&(this.prev_button.disabled=!1),this.s.autoplay&&this.playing&&this.set_timer())}},{key:"clear_timer",value:function(){this.s.autoplay&&clearTimeout(this.autoplay_timer)}},{key:"set_timer",value:function(){var t=this;this.playing=!0,this.s.autoplay&&(this.pause_button.setAttribute("aria-hidden",!1),this.autoplay_timer=setTimeout(function(){t.playing=!0,t.next_slide(!0)},this.s.autoplay_timing))}},{key:"disable_buttons",value:function(){this.prev_button.disabled=!0,this.next_button.disabled=!0}},{key:"prev_slide",value:function(t){0<this.active_slide?this.move_to_slide(this.active_slide-1,!1):0===this.active_slide&&!0===t&&this.move_to_slide(this.panels.length-1,!1)}},{key:"next_slide",value:function(t){this.active_slide<this.panels.length-1?this.move_to_slide(this.active_slide+1,!1):this.active_slide===this.panels.length-1&&!0===t&&this.move_to_slide(0,!1)}},{key:"setTranslate",value:function(t,e,i){i.style.transform="translate3d("+t+", "+e+", 0)"}},{key:"move_to_slide",value:function(t,e){this.clear_timer(),this.deactivate_slides(),this.panels[t].setAttribute("aria-hidden",!1),e&&this.panels[t].focus();var i=100*t;if(this.setTranslate("-"+i+"%","0",this.panels_wrapper),this.active_slide=t,this.s.auto_height){var s=this.panels[t].clientHeight;this.panels_wrapper.style.maxHeight=s+"px"}this.reduced_motion&&this.check_buttons(!0)}}]),e}();e.default=s;var n=document.querySelectorAll(".slider");console.log(n);for(var a=0;a<n.length;a++)new s({slider:n[a],panels_wrapper:".slider__panels",panels:".slider__panel",active_slide:0,prev_button:".slider__nav--prev",next_button:".slider__nav--next",auto_height:!0,autoplay:!0,autoplay_timing:5e3,play_button:".slider__action--play",pause_button:".slider__action--pause"})}});
//# sourceMappingURL=Slider.bundle.js.map
