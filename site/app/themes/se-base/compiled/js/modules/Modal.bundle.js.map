{"version":3,"sources":["modules/Modal.bundle.js"],"names":["e","s","t","o","exports","l","i","call","m","c","d","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","_typeof","__esModule","create","bind","n","prototype","hasOwnProperty","p","8","_classCallCheck","this","triggers","Array","slice","document","querySelectorAll","modal_id_attr","modal","getAttribute","modal_close_button","close_button","focusable_elems","last_focussed_elem","body","getElementsByTagName","open_modal","close_modal","find_focusable_elements","trap_focus","handle_keypress","_init_events","_createClass","key","length","onclick","contains","target","focus","classList","add","body_class","clicked_trigger","parentNode","backdrop_class","backdrop_node","createElement","className","insertBefore","appendChild","backdrop_active_class","remove","modal_hidden_class","addEventListener","removeEventListener","which","keyCode","stopPropagation","childNodes","nodeName","_attempt_focus","push","activeElement"],"mappings":"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","file":"Modal.bundle.js","sourcesContent":["!function(e){var s={};function t(o){if(s[o])return s[o].exports;var l=s[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,t),l.l=!0,l.exports}t.m=e,t.c=s,t.d=function(e,s,o){t.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:o})},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,s){if(1&s&&(e=t(e)),8&s)return e;if(4&s&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&s&&\"string\"!=typeof e)for(var l in e)t.d(o,l,function(s){return e[s]}.bind(null,l));return o},t.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(s,\"a\",s),s},t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},t.p=\"\",t(t.s=8)}({8:function(e,s,t){\"use strict\";t.r(s);const o=class{constructor(e){this.s=e,this.triggers=Array.prototype.slice.call(document.querySelectorAll(\"[\"+this.s.modal_id_attr+'=\"'+this.s.modal.getAttribute(\"id\")+'\"]')),this.modal_close_button=this.s.modal.querySelectorAll(this.s.close_button)[0],this.focusable_elems=[],this.last_focussed_elem=!1,this.body=document.getElementsByTagName(\"body\")[0],this.open_modal=this.open_modal.bind(this),this.close_modal=this.close_modal.bind(this),this.find_focusable_elements=this.find_focusable_elements.bind(this),this.trap_focus=this.trap_focus.bind(this),this.handle_keypress=this.handle_keypress.bind(this),this._init_events()}_init_events(){for(let e=0;e<this.triggers.length;e++)this.triggers[e].onclick=this.open_modal;this.modal_close_button.onclick=this.close_modal}trap_focus(e){this.s.modal.contains(e.target)?this.last_focussed_elem=e.target:this.last_focussed_elem===this.focusable_elems[0]?(this.focusable_elems[this.focusable_elems.length-1].focus(),this.last_focussed_elem=this.focusable_elems[this.focusable_elems.length-1]):this.last_focussed_elem===this.focusable_elems[this.focusable_elems.length-1]&&(this.focusable_elems[0].focus(),this.last_focussed_elem=this.focusable_elems[0])}open_modal(e){this.body.classList.add(this.s.body_class),this.clicked_trigger=e.target,this.s.modal.parentNode.classList.contains(this.s.backdrop_class)?this.backdrop_node=this.s.modal.parentNode:(this.backdrop_node=document.createElement(\"div\"),this.backdrop_node.className=this.s.backdrop_class,this.s.modal.parentNode.insertBefore(this.backdrop_node,this.s.modal),this.backdrop_node.appendChild(this.s.modal)),this.backdrop_node.onclick=this.close_modal,this.backdrop_node.classList.add(this.s.backdrop_active_class),this.s.modal.classList.remove(this.s.modal_hidden_class),this.focusable_elems=[],this.find_focusable_elements(this.s.modal),document.addEventListener(\"keyup\",this.handle_keypress),this.focusable_elems.length>0&&(document.addEventListener(\"focus\",this.trap_focus,!0),this.focusable_elems[0].focus(),this.last_focussed_elem=this.focusable_elems[0])}close_modal(e){!0!==e&&e.target!==this.backdrop_node&&e.target!==this.modal_close_button||(this.body.classList.remove(this.s.body_class),this.backdrop_node.classList.remove(this.s.backdrop_active_class),this.s.modal.classList.add(this.s.modal_hidden_class),document.removeEventListener(\"focus\",this.trap_focus,!0),document.removeEventListener(\"keyup\",this.handle_keypress),this.clicked_trigger.focus())}handle_keypress(e){27===(e.which||e.keyCode)&&(e.stopPropagation(),this.close_modal(!0))}find_focusable_elements(e){for(var s=0;s<e.childNodes.length;s++){const t=e.childNodes[s];if(\"#text\"!==t.nodeName){let e=this._attempt_focus(t);e&&this.focusable_elems.push(e),t.childNodes.length>0&&this.find_focusable_elements(t)}}}_attempt_focus(e){try{e.focus()}catch(e){}return document.activeElement===e&&e}};s.default=o;const l=document.querySelectorAll(\".modal\");for(let e=0;e<l.length;e++)new o({modal:l[e],modal_id_attr:\"data-modal-id\",modal_hidden_class:\"hidden\",backdrop_class:\"dialog-backdrop\",backdrop_active_class:\"active\",close_button:\".modal-close\",body_class:\"has-modal\"})}});"]}