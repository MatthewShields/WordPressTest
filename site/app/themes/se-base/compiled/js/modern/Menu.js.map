{"version":3,"sources":["Menu.js"],"names":["TableWrap","[object Object]","el","wrapper","this","target","nav","$","html_doc","menu_toggle_btn","menu_parents","find","menu_dropdowns","_init_events","on","menu_toggle","bind","menu_scroll","add_dropdown_buttons","append","toggle_dropdown","e","console","log","currentTarget","parent","toggleClass","ev","scrollTop","scrollHeight","prop","height","delta","type","originalEvent","detail","wheelDelta","up","prevent","stopPropagation","preventDefault","returnValue"],"mappings":"AAEA,MAAMA,EAAY,MACdC,YAAYC,EAAIC,GACZC,KAAKC,OAASH,EACdE,KAAKE,IAAMC,EAAE,aACbH,KAAKI,SAAWD,EAAE,QAClBH,KAAKK,gBAAkBF,EAAE,gBACzBH,KAAKM,aAAeN,KAAKE,IAAIK,KAAK,2BAClCP,KAAKQ,gBAAiB,EAEtBR,KAAKS,eAGTZ,eACeG,KACNK,gBAAgBK,GAAG,QADbV,KAC2BW,YAAYC,KAAKZ,OAD5CA,KAENE,IAAIQ,GAAG,4BAFDV,KAEmCa,YAAYD,KAAKZ,OAFpDA,KAGNc,uBAGTjB,uBACeG,KACNM,aAAaS,OAAO,6EADdf,KAENQ,eAAiBL,EAAE,oBAFbH,KAGNQ,eAAeE,GAAG,QAHZV,KAG0BgB,gBAAgBJ,KAAKZ,OAG9DH,gBAAgBoB,GACZC,QAAQC,IAAIF,GACZC,QAAQC,MACKhB,EAAEc,EAAEG,eACVC,SAASC,YAAY,QAGhCzB,YAAY0B,GACR,IAGIC,EAHOxB,KAGUE,IAAIsB,YACrBC,EAJOzB,KAIaE,IAAIwB,KAAK,gBAC7BC,EALO3B,KAKOE,IAAIyB,SAClBC,EAAoB,kBAAXL,EAAGM,MACmB,GAA3BN,EAAGO,cAAcC,OACjBR,EAAGO,cAAcE,WACrBC,EAAKL,EAAQ,EAEbM,EAAU,WAKV,OAJAhB,QAAQC,IAAI,WACZI,EAAGY,kBACHZ,EAAGa,iBACHb,EAAGc,aAAc,GACV,GAQX,OALAnB,QAAQC,IAAI,SACZD,QAAQC,IAAIK,GACZN,QAAQC,IAAIM,GACZP,QAAQC,IAAIQ,IAEPM,IAAOL,EAAQH,EAAeE,EAASH,GAxBjCxB,KA0BFE,IAAIsB,UAAUC,GACZS,KACAD,GAAML,EAAQJ,GA5BdxB,KA8BFE,IAAIsB,UAAU,GACZU,UAHJ,EAOXrC,cACeG,KACNI,SAASkB,YAAY,aADftB,KAENE,IAAIoB,YAAY,gCAMd1B","file":"Menu.js","sourcesContent":["// import $ from \"cash-dom\";\n\nconst TableWrap = class {\n    constructor(el, wrapper) {\n        this.target = el;\n        this.nav = $('#main-nav');\n        this.html_doc = $('html');\n        this.menu_toggle_btn = $('#menu-toggle');\n        this.menu_parents = this.nav.find('.menu-item-has-children');\n        this.menu_dropdowns = false;\n\n        this._init_events();\n    }\n\n    _init_events() {\n        var self = this;\n        self.menu_toggle_btn.on('click', self.menu_toggle.bind(this));\n        self.nav.on('DOMMouseScroll mousewheel', self.menu_scroll.bind(this));\n        self.add_dropdown_buttons();\n    }\n\n    add_dropdown_buttons() {\n        var self = this;\n        self.menu_parents.append('<a href=\"javascript:void(0)\" class=\"dropdown-toggle\">Expand Menu Item</a>');\n        self.menu_dropdowns = $('.dropdown-toggle');\n        self.menu_dropdowns.on('click', self.toggle_dropdown.bind(this));\n    }\n\n    toggle_dropdown(e) {\n        console.log(e);\n        console.log();\n        var target = $(e.currentTarget);\n        target.parent().toggleClass('open');\n    }\n\n    menu_scroll(ev) {\n        var self = this;\n        // console.log(self.nav);\n        // console.log(ev);\n        var scrollTop = self.nav.scrollTop(),\n            scrollHeight = self.nav.prop('scrollHeight'),\n            height = self.nav.height(),\n            delta = (ev.type == 'DOMMouseScroll' ?\n                ev.originalEvent.detail * -40 :\n                ev.originalEvent.wheelDelta),\n            up = delta > 0;\n\n        var prevent = function() {\n            console.log('prevent');\n            ev.stopPropagation();\n            ev.preventDefault();\n            ev.returnValue = false;\n            return false;\n        }\n\n        console.log('break');\n        console.log(scrollTop);\n        console.log(scrollHeight);\n        console.log(height);\n\n        if (!up && -delta > scrollHeight - height - scrollTop) {\n            // Scrolling down, but this will take us past the bottom.\n            self.nav.scrollTop(scrollHeight);\n            return prevent();\n        } else if (up && delta > scrollTop) {\n            // Scrolling up, but this will take us past the top.\n            self.nav.scrollTop(0);\n            return prevent();\n        }\n    }\n\n    menu_toggle() {\n        var self = this;\n        self.html_doc.toggleClass('menu-open');\n        self.nav.toggleClass('nav--active');\n    }\n\n\n};\n\nexport default TableWrap;"]}