const t=class{constructor(t){this.s=t,this.panels_wrapper=this.s.slider.querySelectorAll(this.s.panels_wrapper)[0],this.panels=Array.prototype.slice.call(this.s.slider.querySelectorAll(this.s.panels)),this.active_slide=this.s.active_slide,this.prev_button=this.s.slider.querySelectorAll(this.s.prev_button)[0],this.next_button=this.s.slider.querySelectorAll(this.s.next_button)[0],this.transition_name=this.get_transition_event_name(),this.reduced_motion=!1,this.s.autoplay&&(this.play_button=this.s.slider.querySelectorAll(this.s.play_button)[0],this.pause_button=this.s.slider.querySelectorAll(this.s.pause_button)[0],this.playing=!0,this.autoplay_timer=!1),this.prev_slide=this.prev_slide.bind(this),this.next_slide=this.next_slide.bind(this),this.disable_buttons=this.disable_buttons.bind(this),this.check_buttons=this.check_buttons.bind(this),this.move_to_slide=this.move_to_slide.bind(this),this.set_timer=this.set_timer.bind(this),this.clear_timer=this.clear_timer.bind(this),this.pause_slider=this.pause_slider.bind(this),this.play_slider=this.play_slider.bind(this),this.hover_slider=this.hover_slider.bind(this),this.deactivate_slides=this.deactivate_slides.bind(this),this._init_events()}_init_events(){this.prev_button.onclick=this.prev_slide,this.next_button.onclick=this.next_slide;const t=window.matchMedia("(prefers-reduced-motion: reduce)");this.reduced_motion=t.matches,this.reduced_motion||this.panels_wrapper.addEventListener(this.transition_name,this.check_buttons),this.s.autoplay&&(this.pause_button.setAttribute("aria-hidden",!1),this.pause_button.addEventListener("click",this.pause_slider),this.play_button.addEventListener("click",this.play_slider),this.panels_wrapper.setAttribute("aria-live","off"));for(let t=0;t<this.panels.length;t++)this.panels[t].setAttribute("aria-hidden",!0),this.panels[t].setAttribute("tabindex","-1"),this.panels[t].setAttribute("aria-label","Slide "+(t+1)+" of "+this.panels.length);this.move_to_slide(0,!1)}get_transition_event_name(){const t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};let i=document.body.style;for(let e in t)if(null!=i[e])return t[e]}deactivate_slides(){for(let t=0;t<this.panels.length;t++)this.panels[t].setAttribute("aria-hidden",!0)}hover_slider(){this.playing?this.pause_slider():this.play_slider()}pause_slider(){this.playing=!1,this.pause_button.setAttribute("aria-hidden",!0),this.play_button.setAttribute("aria-hidden",!1),this.panels_wrapper.setAttribute("aria-live","polite"),this.clear_timer()}play_slider(t){this.playing=!0,this.pause_button.setAttribute("aria-hidden",!1),this.play_button.setAttribute("aria-hidden",!0),this.panels_wrapper.setAttribute("aria-live","off"),this.set_timer()}check_buttons(t){!0!==t&&"transform"!==t.propertyName||(this.active_slide<this.panels.length-1&&(this.next_button.disabled=!1),this.active_slide>0&&(this.prev_button.disabled=!1),this.s.autoplay&&this.playing&&this.set_timer())}clear_timer(){this.s.autoplay&&clearTimeout(this.autoplay_timer)}set_timer(){this.playing=!0,this.s.autoplay&&(this.pause_button.setAttribute("aria-hidden",!1),this.autoplay_timer=setTimeout(()=>{this.playing=!0,this.next_slide(!0)},this.s.autoplay_timing))}disable_buttons(){this.prev_button.disabled=!0,this.next_button.disabled=!0}prev_slide(t){this.active_slide>0?this.move_to_slide(this.active_slide-1,!1):0===this.active_slide&&!0===t&&this.move_to_slide(this.panels.length-1,!1)}next_slide(t){this.active_slide<this.panels.length-1?this.move_to_slide(this.active_slide+1,!1):this.active_slide===this.panels.length-1&&!0===t&&this.move_to_slide(0,!1)}setTranslate(t,i,e){e.style.transform="translate3d("+t+", "+i+", 0)"}move_to_slide(t,i){this.clear_timer(),this.deactivate_slides(),this.panels[t].setAttribute("aria-hidden",!1),i&&this.panels[t].focus();const e=100*t;if(this.setTranslate("-"+e+"%","0",this.panels_wrapper),this.active_slide=t,this.s.auto_height){var s=this.panels[t].clientHeight;this.panels_wrapper.style.maxHeight=s+"px"}this.reduced_motion&&this.check_buttons(!0)}};export default t;const i=document.querySelectorAll(".slider");console.log(i);for(let e=0;e<i.length;e++)new t({slider:i[e],panels_wrapper:".slider__panels",panels:".slider__panel",active_slide:0,prev_button:".slider__nav--prev",next_button:".slider__nav--next",auto_height:!0,autoplay:!0,autoplay_timing:5e3,play_button:".slider__action--play",pause_button:".slider__action--pause"});