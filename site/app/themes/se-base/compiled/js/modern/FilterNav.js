const t=class{constructor(t){this.filter_section=t,this.filter_links=this.filter_section.find(".filter-list a"),this.filter_selected=this.filter_section.find(".filter-list__selected"),this.load_more_btn=this.filter_section.find(".post-list__load"),this.posts_container=this.filter_section.find(".post-list"),this.post_type=this.filter_section.attr("data-post-type"),this.cat_id=this.filter_section.attr("data-cat"),this.ppp=6,this.page=1,this.in_ajax=!1,this._init_events()}_init_events(){this.filter_links.on("click",this.prepare_ajax.bind(this)),this.load_more_btn.on("click",this.load_more.bind(this))}prepare_ajax(t){if(t.preventDefault(),!1===this.in_ajax){this.in_ajax=!0,this.filter_selected.text($(t.currentTarget).text());var i=$(t.currentTarget).parent().attr("class"),a=parseInt(i.replace(/\D/g,""),10);this.page=1,isNaN(a)?this.cat_id=!1:this.cat_id=a,this.filter_section.attr("data-cat",this.cat_id),this.prepare_section(this.ppp,!0)}}prepare_section(t,i){this.filter_section.addClass("in-ajax"),this.call_ajax(t,i)}resolve_section(){this.in_ajax=!1,this.filter_section.removeClass("in-ajax")}call_ajax(t,i){var a=this,e={action:"ajax_pagination",query_vars:ajaxpagination.query_vars,post_type:a.post_type,cat_id:a.cat_id,ppp:t,page:a.page};a.load_more_btn.addClass("loading"),$.ajax({url:ajaxpagination.ajaxurl,type:"post",data:e,success:function(t){var e=JSON.parse(t);e.html&&(!0===i?a.posts_container.html(e.html):a.posts_container.append(e.html)),e.max_pages===a.page?a.hide_load_more():a.show_load_more(),a.load_more_btn.removeClass("loading"),a.resolve_section()}})}load_more(){!1===this.in_ajax&&(this.in_ajax=!0,this.page++,this.prepare_section(this.ppp,!1))}hide_load_more(){this.load_more_btn.hide()}show_load_more(){this.load_more_btn.show()}};export default t;